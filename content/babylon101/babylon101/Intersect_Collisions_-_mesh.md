---
ID_PAGE: 22101
PG_TITLE: 11. Intersect Collisions - mesh
---
# Mesh Collisions

В динамических сценах объекты движутся и взаимодействуют друг с другом. Чтобы получить лучший рендеринг, вам нужно знать, когда ваши сетки находятся в контакте друг с другом. В этом уроке мы узнаем, как работает система столкновений.

![Collisions](/img/how_to/Collisions%20Intersect/10.png)

_Final result_

## Как я могу это сделать ?

Из этого туториала вы узнаете два способа обнаружения столкновений: первый - вызвать событие столкновения, когда две сетки находятся в контакте, а другой - обнаружение контакта между сеткой и одной точкой.
Мы будем говорить о сцене выше. Первая и вторая сферы (воздушный шар) будут сталкиваться на повернутой земле, последняя будет сталкиваться только в одной точке. Создав эту базовую сцену, продолжайте чтение, чтобы узнать, как проверять столкновения.

* **Intersect mesh**
  Суть в том, чтобы проверить контакт между нашими воздушными шарами и землей. Мы будем использовать функцию «intersectsMesh ()» с двумя параметрами: проверяемая сетка и точность пересечения (логическое значение).

  ```javascript
  if (balloon1.intersectsMesh(plan1, false)) {
    balloon1.material.emissiveColor = new BABYLON.Color4(1, 0, 0, 1);
  } else {
    balloon1.material.emissiveColor = new BABYLON.Color4(1, 1, 1, 1);
  }
  ```

  Чтобы избежать дорогостоящих вычислений путем проверки множества деталей на сетке, движок Babylon создает ограничивающую рамку вокруг объекта и проверяет пересечение между этой рамкой и сталкивающейся сеткой. Вот пример ограничительной рамки (bounding box):

  ![Collisions](/img/how_to/Collisions%20Intersect/10-1.png)

  Но эта ограничительная рамка может быть более или менее точной, и поэтому у нас есть второй параметр. Короче говоря, если для этого параметра установлено значение true (по умолчанию false), ограничивающий прямоугольник будет ближе к сетке (тип ограничения OBB), но это более затратный расчет. Имейте в виду, что этот тип ограничивающего прямоугольника особенно полезен, когда ваша сетка повернута на угол.

  ![Collisions](/img/how_to/Collisions%20Intersect/10-2.png)

  Так что подумайте о деталях столкновения, которые вам нужны, прежде чем выбрать.

  Если вам нужна дополнительная информация об этом втором параметре, вы можете взглянуть на эту страницу Википедии, особенно о режиме AABB и OBB.: [http://en.wikipedia.org/wiki/Bounding_volume](http://en.wikipedia.org/wiki/Bounding_volume)

* **Intersect point**
  Другая функция, которую вы можете использовать, это «intersectsPoint ()» с указанной точкой, например:

  ```javascript
  var pointToIntersect = new BABYLON.Vector3(10, -5, 0);
  if (balloon3.intersectsPoint(pointToIntersect)){
    balloon3.material.emissiveColor = new BABYLON.Color4(1, 0, 0, 1);
  }
  ```

  Мы определили точную точку в нашей сцене, и если наш воздушный шар пересекает эту точку, где бы на воздушном шаре ни находился, событие возникает, и мы меняем цвет воздушного шара..

Вы можете играть с кодом, использованным в этом уроке... посетив [**a demo at our playground**]( https://www.babylonjs-playground.com/?10).

## Next step

С этими двумя функциями ваши сцены становятся намного более динамичными: вы можете определить конкретную реакцию на пересечение и столкновение объектов и начать вводить физические понятия в вашу сцену.

В нашем следующем уроке вы узнаете, как [проверить столкновения между вашей сценой и мышью](/babylon101/Picking_Collisions).

# Further Reading

[Cameras Overview](/features/Cameras)